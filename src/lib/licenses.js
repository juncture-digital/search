const licenses = {
  
  'https://creativecommons.org/publicdomain/mark/1.0': {
    code: 'PDM',
    shortcode: 'PDM',
    label: 'Public Domain Mark 1.0',
    qid: '',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/publicdomain.svg',
      'https://mirrors.creativecommons.org/presskit/icons/pd.svg'
    ]
  },

  'https://creativecommons.org/publicdomain/zero/1.0': {
    code: 'CC0',
    shortcode: 'CC0',
    label: 'CC0 1.0 Universal (CC0 1.0) Public Domain Dedication',
    qid: 'Q6938433',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/cc-zero.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/zero.svg'
    ]
  },

  'https://creativecommons.org/publicdomain/zero/1.0/deed.en': {
    code: 'CC0',
    shortcode: 'CC0',
    label: 'CC0 1.0 Universal (CC0 1.0) Public Domain Dedication',
    qid: 'Q6938433',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/cc-zero.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/zero.svg'
    ]
  },
  
  'https://creativecommons.org/licenses/by/1.0' : {
    code: 'CC BY 1.0', 
    shortcode: 'BY',
    label: 'Attribution 1.0 Generic (CC BY 1.0)', 
    qid :'Q30942811',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },

  'https://creativecommons.org/licenses/by/2.0': {
    code: 'CC BY 2.0',
    shortcode: 'BY',
    label: 'Attribution 2.0 Generic (CC BY 2.0)',
    qid :'Q19125117',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },
  
  'https://creativecommons.org/licenses/by/2.5' : {
    code: 'CC BY 2.5',
    shortcode: 'BY',
    label: 'Attribution 2.5 Generic (CC BY 2.5)',
    qid :'Q18810333',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },

  'https://creativecommons.org/licenses/by/3.0' : {
    code: 'CC BY 3.0',
    shortcode: 'BY',
    label: 'Attribution 3.0 Unported (CC BY 3.0)',
    qid :'Q14947546',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },

  'https://creativecommons.org/licenses/by/3.0/br': {
    code: 'CC BY 3.0 BR',
    shortcode: 'BY',
    label: 'Atribuição 3.0 Brasil (CC BY 3.0 BR)',
    qid :'Q75770766',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },

  'https://creativecommons.org/licenses/by/3.0/us': {
    code: 'CC BY 3.0 US',
    shortcode: 'BY',
    label: 'Attribution 3.0 United States (CC BY 3.0 US)',
    qid :'Q18810143',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },

  'https://creativecommons.org/licenses/by/4.0': {
    code: 'CC BY 4.0',
    shortcode: 'BY',
    label: 'Attribution 4.0 International (CC BY 4.0)',
    qid :'Q20007257',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg'
    ]
  },

  'https://creativecommons.org/licenses/by-sa/1.0' : {
    code: 'CC BY-SA 1.0',
    shortcode: 'BY-SA',
    label: 'Attribution-ShareAlike 1.0 Generic (CC BY-SA 1.0)',
    qid :'Q47001652',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]
  },

  'https://creativecommons.org/licenses/by-sa/2.0': {
    code: 'CC BY-SA 2.0',
    shortcode: 'BY-SA',
    label: 'Attribution-ShareAlike 2.0 Generic (CC BY-SA 2.0)',
    qid :'Q19068220',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]  
  },

  'https://creativecommons.org/licenses/by-sa/2.0/de': {
    code: 'CC BY-SA 2.0 DE',
    shortcode: 'BY-SA',
    label: 'Namensnennung - Weitergabe unter gleichen Bedingungen 2.0 Deutschland (CC BY-SA 2.0 DE)',
    qid :'Q77143083',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]  
  },

  'https://creativecommons.org/licenses/by-sa/2.5': {
    code: 'CC BY-SA 2.5',
    shortcode: 'BY-SA',
    label: 'Attribution-ShareAlike 2.5 Generic (CC BY-SA 2.5)',
    qid :'Q19113751',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]  
  },

  'https://creativecommons.org/licenses/by-sa/3.0': {
    code: 'CC BY-SA 3.0',
    shortcode: 'BY-SA',
    label: 'Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)',
    qid :'Q14946043',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]
  },

  'https://creativecommons.org/licenses/by-sa/3.0/at': {
    code: 'CC BY-SA 3.0 AT',
    shortcode: 'BY-SA',
    label: 'Namensnennung - Weitergabe unter gleichen Bedingungen 3.0 Österreich (CC BY-SA 3.0 AT)',
    qid :'Q80837139',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]
  },

  'https://creativecommons.org/licenses/by-sa/3.0/de': {
    code: 'CC BY-SA 3.0 DE',
    shortcode: 'BY-SA',
    label: 'Namensnennung - Weitergabe unter gleichen Bedingungen 3.0 Deutschland (CC BY-SA 3.0 DE)',
    qid :'Q42716613',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]
  },

  'https://creativecommons.org/licenses/by-sa/3.0/fr': {
    code: 'CC BY-SA 3.0 FR',
    shortcode: 'BY-SA',
    label: 'Attribution - Partage dans les Mêmes Conditions 3.0 France (CC BY-SA 3.0 FR)',
    qid :'Q86240326',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]
  },

  'https://creativecommons.org/licenses/by-sa/4.0': {
    code: 'CC BY-SA 4.0',
    shortcode: 'BY-SA',
    label: 'Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)',
    qid :'Q18199165',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png',
      'https://mirrors.creativecommons.org/presskit/icons/cc.svg',
      'https://mirrors.creativecommons.org/presskit/icons/by.svg',
      'https://mirrors.creativecommons.org/presskit/icons/sa.svg'
    ]
  },

  'https://spdx.org/licenses/GPL-2.0-or-later.html': {
    code: 'GPL-2.0-or-later',
    shortcode: 'GPL',
    label: 'GNU General Public License v2.0 or later',
    qid :'Q27016752',
    badges: [
    ]
  },

  'https://www.gnu.org/licenses/old-licenses/fdl-1.2.html': {
    code: 'GFDL-1.2+',
    shortcode: 'GFDL',
    label: 'GNU Free Documentation License 1.2',
    qid :'Q50829104',
    badges: [
    ]
  },

  'https://artlibre.org': {
    code: 'FAL',
    shortcode: 'FAL',
    label: 'Licence Art Libre',
    qid :'Q152332',
    badges: [
      'https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Licence_Art_Libre.svg/367px-Licence_Art_Libre.svg.png'
    ]
  },

  'https://rightsstatements.org/page/NKC/1.0/?language=en': {
    code: 'NKC 1.0',
    shortcode: 'NKC',
    label: 'No Known Copyright',
    qid :'Q99263261',
    badges: [
    ]
  },

  'https://commons.wikimedia.org/wiki/Template:Copyrighted_free_use': {
    code: 'Copyrighted free use',
    shortcode: 'Copyrighted free use',
    label: 'Copyrighted free use',
    qid :'Q99578078',
    badges: [
    ]
  },

  'https://commons.wikimedia.org/wiki/Template:Attribution_only_license': {
    code: 'Attribution only license',
    shortcode: 'Attribution only license',
    label: 'Attribution only license',
    qid :'Q98923445',
    badges: [
    ]
  },

  'https://en.wikipedia.org/wiki/Wikipedia:Granting_work_into_the_public_domain': {
    code: 'PD',
    shortcode: 'PD',
    label: 'Released into the public domain by the copyright holder',
    qid: 'Q98592850',
    badges: [
      'https://mirrors.creativecommons.org/presskit/buttons/88x31/png/publicdomain.png',
    ]
  }

}

let licensesByQID = Object.fromEntries(Object.entries(licenses).map(([url, value]) => [value.qid, {...value, ...{ url } }] ))
licensesByQID['Q26921686'] = {
  code: 'GFDL-1.2-only',
  shortcode: 'GFDL',
  label: '',
  url :'https://www.gnu.org/licenses/old-licenses/fdl-1.2.html', 
  badges: []
}

let licensesByCode = Object.fromEntries(Object.entries(licenses).map(([url, value]) => [value.code, {...value, ...{ url } }] ))

function licenseUrl(licenseStr) {
  let licenseUrl
  if (licenseStr.indexOf('http') === 0) { // licenseStr is a URL
    if (licenseStr.indexOf('wikidata.org') > 0) {
      let qid = licenseStr.split('/').filter(pe => pe).pop()
      licenseUrl = licensesByQID[qid]?.url
    } else {
      // licenseUrl = licenseStr[licenseStr.length - 1] === '/' ? licenseStr : licenseStr + '/'
    }
  } else { // licenseStr is a code
    licenseStr = licenseStr.toUpperCase().replace(/\s+/g, ' ')
    if (licensesByCode[licenseStr]) licenseUrl = licensesByCode[licenseStr].url
    else if (licenseStr.indexOf('BY') === 0) licenseUrl = licensesByQID['Q20007257'].url
    else if (licenseStr.indexOf('BY-SA') === 0) licenseUrl = licensesByQID['Q18199165'].url
  }
  return licenseUrl || licenseStr
}

export {licenses, licenseUrl}